<!------------------------------------------------------------------------
-- Plantilla HTML para la página de portada del panel de administración --
------------------------------------------------------------------------->
<?php /* incluimos la plantilla goblal */ include __DIR__ . '/../layout.phtml' ?>
<?php /* incluimos la cabecera */ include __DIR__ . '/../header.phtml' ?>

<h1>Admin Panel</h1>

<div>Nombre: <?php // echo $user->getName() ?></div>

<br>

<?php
    if (isset($notification)) {
        $cssClas = $notification['type'];
        echo "<div class='$cssClas'>{$notification['msg']}</div>";
    }
?>

<h2>Lista de noticias</h2>
<a href="add">Crear nueva noticia</a><br><br>
<?php
    if (isset($news)) {
        foreach ($news as $item) {
            echo "<div>
                      <span>{$item->getTitle()}</span>
                      <span>{$item->getCategory()}</span>
                      <span>{$item->getSubtitle()}</span>
                      <span>{$item->getDateCreated()}</span>
                      <span>{$item->getAutor()->getName()}</span>
                      <span><a href='/yaseal-local/admin_panel/edit/{$item->getId()}'>Editar</a></span>
                  </div>";
        }
    } else {
        echo "<div>No hay nada que mostrar</div>";
    }
?>

<br>
<a href="/yaseal-local/logout">Salir</a>

<?php /* incluimos el footer */ include __DIR__ . '/../footer.phtml' ?>